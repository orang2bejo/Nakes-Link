<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Legal Compliance Dashboard - Nakes Link</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns@2.29.3/index.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.5rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .header p {
            color: #7f8c8d;
            font-size: 1.1rem;
        }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-left: 10px;
        }

        .status-good { background: #27ae60; }
        .status-warning { background: #f39c12; }
        .status-critical { background: #e74c3c; }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .metric-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .metric-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }

        .metric-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .metric-title {
            font-size: 0.9rem;
            color: #7f8c8d;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .metric-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .metric-change {
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .metric-change.positive { color: #27ae60; }
        .metric-change.negative { color: #e74c3c; }
        .metric-change.neutral { color: #7f8c8d; }

        .charts-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .chart-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .chart-title {
            font-size: 1.3rem;
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
        }

        .full-width {
            grid-column: 1 / -1;
        }

        .alerts-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .section-title {
            font-size: 1.5rem;
            color: #2c3e50;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .alert-item {
            display: flex;
            align-items: center;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 10px;
            border-left: 4px solid;
        }

        .alert-high {
            background: #fdf2f2;
            border-color: #e74c3c;
        }

        .alert-medium {
            background: #fef9e7;
            border-color: #f39c12;
        }

        .alert-low {
            background: #f0f9ff;
            border-color: #3498db;
        }

        .alert-icon {
            font-size: 1.2rem;
            margin-right: 15px;
        }

        .alert-content {
            flex: 1;
        }

        .alert-title {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .alert-description {
            color: #7f8c8d;
            font-size: 0.9rem;
        }

        .alert-time {
            color: #95a5a6;
            font-size: 0.8rem;
        }

        .actions-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .action-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: transform 0.3s ease;
        }

        .action-card:hover {
            transform: translateY(-3px);
        }

        .action-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: #3498db;
        }

        .action-title {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .action-description {
            color: #7f8c8d;
            font-size: 0.9rem;
            margin-bottom: 20px;
        }

        .btn {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .btn:hover {
            background: linear-gradient(135deg, #2980b9, #1f5f8b);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);
        }

        .btn-danger {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }

        .btn-danger:hover {
            background: linear-gradient(135deg, #c0392b, #a93226);
            box-shadow: 0 4px 12px rgba(231, 76, 60, 0.3);
        }

        .btn-warning {
            background: linear-gradient(135deg, #f39c12, #d68910);
        }

        .btn-warning:hover {
            background: linear-gradient(135deg, #d68910, #b7950b);
            box-shadow: 0 4px 12px rgba(243, 156, 18, 0.3);
        }

        .compliance-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .compliance-table th,
        .compliance-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ecf0f1;
        }

        .compliance-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #2c3e50;
        }

        .compliance-table tr:hover {
            background: #f8f9fa;
        }

        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            text-transform: uppercase;
        }

        .status-active {
            background: #d5f4e6;
            color: #27ae60;
        }

        .status-expiring {
            background: #fef9e7;
            color: #f39c12;
        }

        .status-expired {
            background: #fdf2f2;
            color: #e74c3c;
        }

        .refresh-indicator {
            display: inline-block;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .last-updated {
            color: #95a5a6;
            font-size: 0.9rem;
            text-align: center;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .charts-section {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .metric-value {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <div class="header">
            <h1>
                üèõÔ∏è Legal Compliance Dashboard
                <span class="status-indicator status-good" id="systemStatus"></span>
            </h1>
            <p>Real-time monitoring of legal compliance, licenses, and regulatory requirements</p>
        </div>

        <!-- Key Metrics -->
        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-header">
                    <span class="metric-title">Active Licenses</span>
                    <span>üìã</span>
                </div>
                <div class="metric-value" id="activeLicenses">--</div>
                <div class="metric-change neutral" id="licensesChange">
                    <span>No change from last month</span>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <span class="metric-title">Expiring Soon</span>
                    <span>‚ö†Ô∏è</span>
                </div>
                <div class="metric-value" id="expiringLicenses">--</div>
                <div class="metric-change" id="expiringChange">
                    <span>Within 30 days</span>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <span class="metric-title">Compliance Score</span>
                    <span>üìä</span>
                </div>
                <div class="metric-value" id="complianceScore">--</div>
                <div class="metric-change" id="scoreChange">
                    <span>Overall system health</span>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <span class="metric-title">Open Incidents</span>
                    <span>üö®</span>
                </div>
                <div class="metric-value" id="openIncidents">--</div>
                <div class="metric-change" id="incidentsChange">
                    <span>Requiring attention</span>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <span class="metric-title">Consent Rate</span>
                    <span>‚úÖ</span>
                </div>
                <div class="metric-value" id="consentRate">--</div>
                <div class="metric-change" id="consentChange">
                    <span>User privacy compliance</span>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <span class="metric-title">Overdue Checks</span>
                    <span>üîç</span>
                </div>
                <div class="metric-value" id="overdueChecks">--</div>
                <div class="metric-change" id="checksChange">
                    <span>Compliance monitoring</span>
                </div>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="charts-section">
            <div class="chart-container">
                <h3 class="chart-title">License Expiry Timeline</h3>
                <canvas id="licenseExpiryChart"></canvas>
            </div>

            <div class="chart-container">
                <h3 class="chart-title">Compliance Trends</h3>
                <canvas id="complianceTrendsChart"></canvas>
            </div>

            <div class="chart-container full-width">
                <h3 class="chart-title">Incident Categories</h3>
                <canvas id="incidentCategoriesChart"></canvas>
            </div>
        </div>

        <!-- Alerts Section -->
        <div class="alerts-section">
            <h2 class="section-title">
                üö® Active Alerts
                <button class="btn" onclick="refreshAlerts()" id="refreshBtn">
                    <span id="refreshIcon">üîÑ</span> Refresh
                </button>
            </h2>
            <div id="alertsList">
                <!-- Alerts will be populated here -->
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="actions-section">
            <div class="action-card">
                <div class="action-icon">üìã</div>
                <div class="action-title">Run Compliance Check</div>
                <div class="action-description">Execute immediate compliance verification across all systems</div>
                <button class="btn" onclick="runComplianceCheck()">Run Check</button>
            </div>

            <div class="action-card">
                <div class="action-icon">üìä</div>
                <div class="action-title">Generate Report</div>
                <div class="action-description">Create comprehensive compliance report for stakeholders</div>
                <button class="btn" onclick="generateReport()">Generate</button>
            </div>

            <div class="action-card">
                <div class="action-icon">üìß</div>
                <div class="action-title">Send Notifications</div>
                <div class="action-description">Alert healthcare professionals about expiring licenses</div>
                <button class="btn btn-warning" onclick="sendNotifications()">Send Alerts</button>
            </div>

            <div class="action-card">
                <div class="action-icon">üîç</div>
                <div class="action-title">Audit Trail</div>
                <div class="action-description">Review detailed compliance audit logs and history</div>
                <button class="btn" onclick="viewAuditTrail()">View Logs</button>
            </div>
        </div>

        <!-- License Management Table -->
        <div class="alerts-section">
            <h2 class="section-title">üìã License Management</h2>
            <table class="compliance-table">
                <thead>
                    <tr>
                        <th>Healthcare Professional</th>
                        <th>License Type</th>
                        <th>License Number</th>
                        <th>Expiry Date</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="licenseTableBody">
                    <!-- License data will be populated here -->
                </tbody>
            </table>
        </div>

        <!-- Document Management -->
        <div class="alerts-section">
            <h2 class="section-title">üìÑ Legal Documents</h2>
            <table class="compliance-table">
                <thead>
                    <tr>
                        <th>Document</th>
                        <th>Version</th>
                        <th>Last Updated</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="documentsTableBody">
                    <!-- Document data will be populated here -->
                </tbody>
            </table>
        </div>

        <div class="last-updated">
            Last updated: <span id="lastUpdated">--</span>
            <button class="btn" onclick="refreshDashboard()" style="margin-left: 20px;">
                üîÑ Refresh Dashboard
            </button>
        </div>
    </div>

    <script>
        // Dashboard data and state
        let dashboardData = {
            metrics: {
                activeLicenses: 0,
                expiringLicenses: 0,
                complianceScore: 0,
                openIncidents: 0,
                consentRate: 0,
                overdueChecks: 0
            },
            alerts: [],
            licenses: [],
            documents: [],
            charts: {
                licenseExpiry: null,
                complianceTrends: null,
                incidentCategories: null
            }
        };

        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            initializeDashboard();
            loadMockData();
            setupAutoRefresh();
        });

        function initializeDashboard() {
            console.log('üèõÔ∏è Initializing Legal Compliance Dashboard...');
            updateLastUpdated();
            initializeCharts();
        }

        function loadMockData() {
            // Mock data for demonstration
            dashboardData.metrics = {
                activeLicenses: 247,
                expiringLicenses: 12,
                complianceScore: 94,
                openIncidents: 3,
                consentRate: 97.8,
                overdueChecks: 1
            };

            dashboardData.alerts = [
                {
                    id: 1,
                    severity: 'high',
                    title: 'License Expiring Soon',
                    description: 'Dr. Sarah Johnson\'s STR license expires in 5 days',
                    time: '2 hours ago',
                    icon: '‚ö†Ô∏è'
                },
                {
                    id: 2,
                    severity: 'medium',
                    title: 'Document Review Required',
                    description: 'Privacy Policy needs quarterly review update',
                    time: '1 day ago',
                    icon: 'üìÑ'
                },
                {
                    id: 3,
                    severity: 'low',
                    title: 'Compliance Check Completed',
                    description: 'Monthly security audit completed successfully',
                    time: '3 days ago',
                    icon: '‚úÖ'
                }
            ];

            dashboardData.licenses = [
                {
                    name: 'Dr. Sarah Johnson',
                    type: 'STR',
                    number: 'STR-2024-001234',
                    expiry: '2024-02-15',
                    status: 'expiring'
                },
                {
                    name: 'Dr. Michael Chen',
                    type: 'SIP',
                    number: 'SIP-2024-005678',
                    expiry: '2024-08-20',
                    status: 'active'
                },
                {
                    name: 'Dr. Lisa Wang',
                    type: 'STR',
                    number: 'STR-2024-009876',
                    expiry: '2023-12-01',
                    status: 'expired'
                }
            ];

            dashboardData.documents = [
                {
                    name: 'Privacy Policy',
                    version: '2.1',
                    lastUpdated: '2024-01-15',
                    status: 'active'
                },
                {
                    name: 'Terms of Service',
                    version: '1.8',
                    lastUpdated: '2024-01-10',
                    status: 'active'
                },
                {
                    name: 'Healthcare Compliance',
                    version: '1.5',
                    lastUpdated: '2023-11-20',
                    status: 'review_needed'
                }
            ];

            updateDashboard();
        }

        function updateDashboard() {
            updateMetrics();
            updateAlerts();
            updateLicenseTable();
            updateDocumentsTable();
            updateCharts();
            updateSystemStatus();
            updateLastUpdated();
        }

        function updateMetrics() {
            const metrics = dashboardData.metrics;
            
            document.getElementById('activeLicenses').textContent = metrics.activeLicenses;
            document.getElementById('expiringLicenses').textContent = metrics.expiringLicenses;
            document.getElementById('complianceScore').textContent = metrics.complianceScore + '%';
            document.getElementById('openIncidents').textContent = metrics.openIncidents;
            document.getElementById('consentRate').textContent = metrics.consentRate + '%';
            document.getElementById('overdueChecks').textContent = metrics.overdueChecks;

            // Update change indicators
            updateChangeIndicator('expiringChange', metrics.expiringLicenses > 10 ? 'negative' : 'neutral');
            updateChangeIndicator('scoreChange', metrics.complianceScore >= 95 ? 'positive' : 'neutral');
            updateChangeIndicator('incidentsChange', metrics.openIncidents > 5 ? 'negative' : 'neutral');
            updateChangeIndicator('consentChange', metrics.consentRate >= 95 ? 'positive' : 'neutral');
            updateChangeIndicator('checksChange', metrics.overdueChecks > 0 ? 'negative' : 'positive');
        }

        function updateChangeIndicator(elementId, type) {
            const element = document.getElementById(elementId);
            element.className = `metric-change ${type}`;
        }

        function updateAlerts() {
            const alertsList = document.getElementById('alertsList');
            alertsList.innerHTML = '';

            if (dashboardData.alerts.length === 0) {
                alertsList.innerHTML = '<p style="text-align: center; color: #7f8c8d; padding: 20px;">No active alerts</p>';
                return;
            }

            dashboardData.alerts.forEach(alert => {
                const alertElement = document.createElement('div');
                alertElement.className = `alert-item alert-${alert.severity}`;
                alertElement.innerHTML = `
                    <div class="alert-icon">${alert.icon}</div>
                    <div class="alert-content">
                        <div class="alert-title">${alert.title}</div>
                        <div class="alert-description">${alert.description}</div>
                        <div class="alert-time">${alert.time}</div>
                    </div>
                `;
                alertsList.appendChild(alertElement);
            });
        }

        function updateLicenseTable() {
            const tbody = document.getElementById('licenseTableBody');
            tbody.innerHTML = '';

            dashboardData.licenses.forEach(license => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${license.name}</td>
                    <td>${license.type}</td>
                    <td>${license.number}</td>
                    <td>${formatDate(license.expiry)}</td>
                    <td><span class="status-badge status-${license.status}">${license.status}</span></td>
                    <td>
                        <button class="btn" onclick="viewLicense('${license.number}')">View</button>
                        ${license.status === 'expiring' ? '<button class="btn btn-warning" onclick="renewLicense(\'' + license.number + '\')" style="margin-left: 5px;">Renew</button>' : ''}
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function updateDocumentsTable() {
            const tbody = document.getElementById('documentsTableBody');
            tbody.innerHTML = '';

            dashboardData.documents.forEach(doc => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${doc.name}</td>
                    <td>${doc.version}</td>
                    <td>${formatDate(doc.lastUpdated)}</td>
                    <td><span class="status-badge status-${doc.status}">${doc.status.replace('_', ' ')}</span></td>
                    <td>
                        <button class="btn" onclick="viewDocument('${doc.name}')">View</button>
                        <button class="btn btn-warning" onclick="editDocument('${doc.name}')" style="margin-left: 5px;">Edit</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function initializeCharts() {
            // License Expiry Chart
            const licenseCtx = document.getElementById('licenseExpiryChart').getContext('2d');
            dashboardData.charts.licenseExpiry = new Chart(licenseCtx, {
                type: 'bar',
                data: {
                    labels: ['This Month', 'Next Month', '3 Months', '6 Months', '1 Year'],
                    datasets: [{
                        label: 'Licenses Expiring',
                        data: [5, 7, 15, 28, 45],
                        backgroundColor: [
                            '#e74c3c',
                            '#f39c12',
                            '#f1c40f',
                            '#2ecc71',
                            '#3498db'
                        ],
                        borderWidth: 0,
                        borderRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: '#ecf0f1'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });

            // Compliance Trends Chart
            const trendsCtx = document.getElementById('complianceTrendsChart').getContext('2d');
            dashboardData.charts.complianceTrends = new Chart(trendsCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Compliance Score',
                        data: [92, 94, 91, 96, 94, 97],
                        borderColor: '#3498db',
                        backgroundColor: 'rgba(52, 152, 219, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            min: 85,
                            max: 100,
                            grid: {
                                color: '#ecf0f1'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });

            // Incident Categories Chart
            const incidentCtx = document.getElementById('incidentCategoriesChart').getContext('2d');
            dashboardData.charts.incidentCategories = new Chart(incidentCtx, {
                type: 'doughnut',
                data: {
                    labels: ['License Issues', 'Data Privacy', 'Security', 'Documentation', 'Regulatory'],
                    datasets: [{
                        data: [8, 5, 3, 4, 2],
                        backgroundColor: [
                            '#e74c3c',
                            '#f39c12',
                            '#9b59b6',
                            '#3498db',
                            '#2ecc71'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                usePointStyle: true
                            }
                        }
                    }
                }
            });
        }

        function updateCharts() {
            // Update chart data based on current dashboard data
            // This would typically fetch real data from the API
        }

        function updateSystemStatus() {
            const statusIndicator = document.getElementById('systemStatus');
            const metrics = dashboardData.metrics;
            
            if (metrics.complianceScore >= 95 && metrics.openIncidents <= 2 && metrics.overdueChecks === 0) {
                statusIndicator.className = 'status-indicator status-good';
            } else if (metrics.complianceScore >= 90 && metrics.openIncidents <= 5) {
                statusIndicator.className = 'status-indicator status-warning';
            } else {
                statusIndicator.className = 'status-indicator status-critical';
            }
        }

        function updateLastUpdated() {
            document.getElementById('lastUpdated').textContent = new Date().toLocaleString();
        }

        function formatDate(dateString) {
            return new Date(dateString).toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'short',
                day: 'numeric'
            });
        }

        function setupAutoRefresh() {
            // Refresh dashboard every 5 minutes
            setInterval(() => {
                refreshDashboard();
            }, 5 * 60 * 1000);
        }

        // Action functions
        function refreshDashboard() {
            console.log('üîÑ Refreshing dashboard...');
            // In a real implementation, this would fetch fresh data from the API
            loadMockData();
        }

        function refreshAlerts() {
            const refreshIcon = document.getElementById('refreshIcon');
            refreshIcon.className = 'refresh-indicator';
            
            setTimeout(() => {
                refreshIcon.className = '';
                updateAlerts();
            }, 1000);
        }

        function runComplianceCheck() {
            if (confirm('Run comprehensive compliance check? This may take a few minutes.')) {
                console.log('üîç Running compliance check...');
                // In a real implementation, this would trigger the compliance check API
                alert('Compliance check initiated. Results will be available in the dashboard shortly.');
            }
        }

        function generateReport() {
            console.log('üìä Generating compliance report...');
            // In a real implementation, this would generate and download a report
            alert('Compliance report generation started. You will receive an email when ready.');
        }

        function sendNotifications() {
            if (confirm('Send license expiry notifications to affected healthcare professionals?')) {
                console.log('üìß Sending notifications...');
                alert('Notifications sent successfully to 12 healthcare professionals.');
            }
        }

        function viewAuditTrail() {
            console.log('üîç Opening audit trail...');
            // In a real implementation, this would open a detailed audit log view
            alert('Audit trail feature will open in a new window.');
        }

        function viewLicense(licenseNumber) {
            console.log(`üëÅÔ∏è Viewing license: ${licenseNumber}`);
            alert(`License details for ${licenseNumber} would be displayed here.`);
        }

        function renewLicense(licenseNumber) {
            if (confirm(`Initiate renewal process for license ${licenseNumber}?`)) {
                console.log(`üîÑ Renewing license: ${licenseNumber}`);
                alert('Renewal process initiated. Healthcare professional will be notified.');
            }
        }

        function viewDocument(docName) {
            console.log(`üìÑ Viewing document: ${docName}`);
            alert(`${docName} would be displayed in a new window.`);
        }

        function editDocument(docName) {
            console.log(`‚úèÔ∏è Editing document: ${docName}`);
            alert(`Document editor for ${docName} would open here.`);
        }

        // API integration functions (to be implemented)
        async function fetchDashboardData() {
            try {
                const response = await fetch('/api/compliance/dashboard');
                const data = await response.json();
                return data;
            } catch (error) {
                console.error('Failed to fetch dashboard data:', error);
                return null;
            }
        }

        async function fetchAlerts() {
            try {
                const response = await fetch('/api/compliance/alerts');
                const data = await response.json();
                return data;
            } catch (error) {
                console.error('Failed to fetch alerts:', error);
                return [];
            }
        }

        async function fetchLicenses() {
            try {
                const response = await fetch('/api/compliance/licenses');
                const data = await response.json();
                return data;
            } catch (error) {
                console.error('Failed to fetch licenses:', error);
                return [];
            }
        }

        // Error handling
        window.addEventListener('error', function(event) {
            console.error('Dashboard error:', event.error);
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', function(event) {
            if (event.ctrlKey || event.metaKey) {
                switch (event.key) {
                    case 'r':
                        event.preventDefault();
                        refreshDashboard();
                        break;
                    case 'c':
                        event.preventDefault();
                        runComplianceCheck();
                        break;
                }
            }
        });
    </script>
</body>
</html>