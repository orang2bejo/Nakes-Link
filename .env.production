# Nakes Link Production Environment Configuration
# Copy this file to .env and update the values for your production environment

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
NODE_ENV=production
PORT=3000
HOSTNAME=0.0.0.0
APP_NAME=Nakes Link
APP_VERSION=1.0.0
APP_URL=https://nakeslink.com
API_URL=https://nakeslink.com/api

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DB_HOST=postgres
DB_PORT=5432
DB_NAME=nakes_link
DB_USER=postgres
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD
DB_SSL=true
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_TIMEOUT=30000

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD
REDIS_DB=0
REDIS_TIMEOUT=5000

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
JWT_SECRET=CHANGE_ME_VERY_LONG_RANDOM_JWT_SECRET_AT_LEAST_64_CHARACTERS
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d
ENCRYPTION_KEY=CHANGE_ME_32_CHARACTER_ENCRYPTION_KEY
SESSION_SECRET=CHANGE_ME_LONG_SESSION_SECRET
BCRYPT_ROUNDS=12

# =============================================================================
# CORS SETTINGS
# =============================================================================
CORS_ORIGIN=https://nakeslink.com,https://www.nakeslink.com
CORS_CREDENTIALS=true

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_AUTH_MAX=20
RATE_LIMIT_UPLOAD_MAX=10

# =============================================================================
# EMAIL CONFIGURATION (SMTP)
# =============================================================================
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password
EMAIL_FROM_NAME=Nakes Link
EMAIL_FROM_ADDRESS=noreply@nakeslink.com
EMAIL_REPLY_TO=support@nakeslink.com

# =============================================================================
# SMS CONFIGURATION (TWILIO)
# =============================================================================
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_WEBHOOK_URL=https://nakeslink.com/api/webhooks/twilio

# =============================================================================
# PUSH NOTIFICATIONS (FIREBASE)
# =============================================================================
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_PRIVATE_KEY_ID=your-private-key-id
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----\n"
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com
FIREBASE_CLIENT_ID=your-client-id
FIREBASE_AUTH_URI=https://accounts.google.com/o/oauth2/auth
FIREBASE_TOKEN_URI=https://oauth2.googleapis.com/token
FIREBASE_CLIENT_CERT_URL=https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-xxxxx%40your-project.iam.gserviceaccount.com

# =============================================================================
# SATUSEHAT API CONFIGURATION
# =============================================================================
SATUSEHAT_BASE_URL=https://api.satusehat.kemkes.go.id
SATUSEHAT_CLIENT_ID=your_satusehat_client_id
SATUSEHAT_CLIENT_SECRET=your_satusehat_client_secret
SATUSEHAT_ORGANIZATION_ID=your_organization_id

# =============================================================================
# PSC 119 INTEGRATION
# =============================================================================
PSC119_API_URL=https://api.psc119.kemkes.go.id
PSC119_API_KEY=your_psc119_api_key
PSC119_ORGANIZATION_CODE=your_organization_code

# =============================================================================
# FILE UPLOAD SETTINGS
# =============================================================================
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document
UPLOAD_PATH=/app/uploads
UPLOAD_URL=https://nakeslink.com/uploads

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=info
LOG_FILE_PATH=/app/logs
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5
LOG_DATE_PATTERN=YYYY-MM-DD

# =============================================================================
# MONITORING AND METRICS
# =============================================================================
METRICS_ENABLED=true
METRICS_PORT=9090
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000

# =============================================================================
# GRAFANA CONFIGURATION
# =============================================================================
GRAFANA_USER=admin
GRAFANA_PASSWORD=CHANGE_ME_GRAFANA_PASSWORD

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=nakes-link-backups
BACKUP_S3_REGION=ap-southeast-1
BACKUP_S3_ACCESS_KEY=your_s3_access_key
BACKUP_S3_SECRET_KEY=your_s3_secret_key

# =============================================================================
# PAYMENT GATEWAY (MIDTRANS)
# =============================================================================
MIDTRANS_SERVER_KEY=your_midtrans_server_key
MIDTRANS_CLIENT_KEY=your_midtrans_client_key
MIDTRANS_IS_PRODUCTION=true
MIDTRANS_NOTIFICATION_URL=https://nakeslink.com/api/webhooks/midtrans

# =============================================================================
# GEOLOCATION SERVICES
# =============================================================================
GOOGLE_MAPS_API_KEY=your_google_maps_api_key
GEOCODING_PROVIDER=google

# =============================================================================
# EXTERNAL INTEGRATIONS
# =============================================================================
WHATSAPP_API_URL=https://api.whatsapp.com/send
WHATSAPP_BUSINESS_NUMBER=+6281234567890

# =============================================================================
# SECURITY HEADERS
# =============================================================================
CSP_REPORT_URI=https://nakeslink.com/api/security/csp-report
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true

# =============================================================================
# FEATURE FLAGS
# =============================================================================
FEATURE_EMERGENCY_SOS=true
FEATURE_VIDEO_CONSULTATION=true
FEATURE_PRESCRIPTION_DELIVERY=true
FEATURE_HEALTH_RECORDS=true
FEATURE_APPOINTMENT_BOOKING=true
FEATURE_PAYMENT_GATEWAY=true
FEATURE_CHAT_SUPPORT=true
FEATURE_PUSH_NOTIFICATIONS=true

# =============================================================================
# CACHE SETTINGS
# =============================================================================
CACHE_TTL=3600
CACHE_MAX_KEYS=10000
CACHE_CHECK_PERIOD=600

# =============================================================================
# QUEUE SETTINGS
# =============================================================================
QUEUE_REDIS_HOST=redis
QUEUE_REDIS_PORT=6379
QUEUE_REDIS_DB=1
QUEUE_CONCURRENCY=5
QUEUE_MAX_ATTEMPTS=3
QUEUE_BACKOFF_DELAY=5000

# =============================================================================
# SSL/TLS SETTINGS
# =============================================================================
SSL_CERT_PATH=/etc/nginx/ssl/nakeslink.crt
SSL_KEY_PATH=/etc/nginx/ssl/nakeslink.key
SSL_CA_PATH=/etc/nginx/ssl/ca-bundle.crt

# =============================================================================
# DEVELOPMENT/DEBUG (SET TO FALSE IN PRODUCTION)
# =============================================================================
DEBUG=false
VERBOSE_LOGGING=false
SQL_LOGGING=false
API_DOCS_ENABLED=false